import{r as m,o as f,c as p,b,e as u,f as U,i as l,l as g,w as V,j as t,v as a,m as h,F as w,n as y,a as v,g as d,t as r,k as N}from"./index-C8FvYzUV.js";import{S as R}from"./SidebarMenu-0myvLMU5.js";const S={class:"grid"},k={class:"container mx-4"},x={class:"col-md-4"},M={class:"col-md-4"},T={class:"col-md-4"},_={class:"col-md-3"},A={class:"col-md-3"},B={class:"col-md-3"},D={class:"col-md-3"},E={key:0,class:"table-responsive"},C={class:"table table-striped"},L={__name:"UsersView",setup(F){const s=m({usuario:"",clave:"",nombre:"",apellido:"",rut:"",telefono:"",rol:"estudiante"}),i=m([]),c=async()=>{try{await N(p(v,"usuarios"),{...s.value}),alert("Usuario registrado exitosamente"),s.value={usuario:"",clave:"",nombre:"",apellido:"",rut:"",telefono:"",rol:"estudiante"}}catch(n){alert("Error: "+n.message)}};return f(()=>{const n=p(v,"usuarios");b(n,o=>{i.value=o.docs.map(e=>({id:e.id,...e.data()}))})}),(n,o)=>(d(),u("div",S,[U(R),l("div",k,[o[11]||(o[11]=l("h3",{class:"mb-4"},"Gestion de Usuarios",-1)),l("form",{onSubmit:V(c,["prevent"]),class:"row g-2"},[l("div",x,[t(l("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.value.usuario=e),class:"form-control",placeholder:"Nombre de usuario"},null,512),[[a,s.value.usuario]])]),l("div",M,[t(l("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>s.value.clave=e),class:"form-control",placeholder:"Contraseña",type:"password"},null,512),[[a,s.value.clave]])]),l("div",T,[t(l("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>s.value.rol=e),class:"form-select"},o[7]||(o[7]=[l("option",{value:"estudiante"},"Estudiante",-1),l("option",{value:"profesor"},"Profesor",-1),l("option",{value:"administrador"},"Administrador",-1)]),512),[[h,s.value.rol]])]),l("div",_,[t(l("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.value.nombre=e),class:"form-control",placeholder:"Nombre"},null,512),[[a,s.value.nombre]])]),l("div",A,[t(l("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>s.value.apellido=e),class:"form-control",placeholder:"Apellido"},null,512),[[a,s.value.apellido]])]),l("div",B,[t(l("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>s.value.rut=e),class:"form-control",placeholder:"RUT"},null,512),[[a,s.value.rut]])]),l("div",D,[t(l("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>s.value.telefono=e),class:"form-control",placeholder:"Teléfono"},null,512),[[a,s.value.telefono]])]),o[8]||(o[8]=l("div",{class:"col-md-12"},[l("button",{class:"btn btn-success"},"Registrar")],-1))],32),o[12]||(o[12]=l("hr",null,null,-1)),i.value.length?(d(),u("div",E,[o[10]||(o[10]=l("h4",null,"Usuarios Registrados",-1)),l("table",C,[o[9]||(o[9]=l("thead",null,[l("tr",null,[l("th",null,"Usuario"),l("th",null,"Nombre"),l("th",null,"Apellido"),l("th",null,"RUT"),l("th",null,"Teléfono"),l("th",null,"Rol")])],-1)),l("tbody",null,[(d(!0),u(w,null,y(i.value,e=>(d(),u("tr",{key:e.id},[l("td",null,r(e.usuario),1),l("td",null,r(e.nombre),1),l("td",null,r(e.apellido),1),l("td",null,r(e.rut),1),l("td",null,r(e.telefono),1),l("td",null,r(e.rol),1)]))),128))])])])):g("",!0)])]))}};export{L as default};
